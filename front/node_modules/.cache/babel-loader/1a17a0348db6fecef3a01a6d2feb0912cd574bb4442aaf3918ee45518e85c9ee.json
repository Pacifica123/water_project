{"ast":null,"code":"var _jsxFileName = \"/home/noir/projects/diplom/front/src/components/AccountingPost.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport \"../css/Water.css\";\nimport { fetchSingleTableData, fetchSingleTableDataWithFilters } from \"../api/fetch_records\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AccountingPost = () => {\n  _s();\n  const userData = localStorage.getItem(\"user\");\n  let userInfo = {};\n  if (userData) {\n    try {\n      userInfo = JSON.parse(userData);\n    } catch (error) {\n      console.error(\"Ошибка парсинга user:\", error);\n      userInfo = {};\n    }\n  }\n  const isAdmin = userInfo.role === \"UserRoles.ADMIN\";\n  const isEmployee = userInfo.role === \"UserRoles.EMPLOYEE\";\n  const [filteredPoints, setFilteredPoints] = useState([]);\n  const [selectedPoint, setSelectedPoint] = useState(null);\n  const [orgData, setOrgData] = useState({}); // Добавляем состояние для orgData\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        if (isEmployee) {\n          const orgStorage = JSON.parse(localStorage.getItem(\"org\"));\n          setOrgData(orgStorage); // Сохраняем данные об организации в состояние\n\n          const orgId = orgStorage === null || orgStorage === void 0 ? void 0 : orgStorage.id;\n          if (!orgId) {\n            console.error(\"Нет данных об организации для сотрудника\");\n            return;\n          }\n          const filters = {\n            organisation_id: orgId\n          };\n          const pointData = await fetchSingleTableDataWithFilters(\"water_point\", filters);\n          if (pointData) {\n            setFilteredPoints(pointData);\n          } else {\n            setFilteredPoints([]);\n          }\n        } else {\n          const orgDataList = await fetchSingleTableData(\"organisations\");\n          const pointData = await fetchSingleTableData(\"water_point\");\n          if (!isAdmin) {\n            // Для других ролей, кроме админа и сотрудника, пока нет логики фильтрации\n            // Если нужно, можно добавить фильтрацию по другим критериям\n            const enrichedPoints = pointData.map(point => {\n              const org = orgDataList.find(o => o.id === point.organisation_id.id);\n              return {\n                ...point,\n                organisation_name: org ? org.organisation_name : \"Неизвестно\"\n              };\n            });\n            setFilteredPoints(enrichedPoints);\n          } else {\n            const enrichedPoints = pointData.map(point => {\n              const org = orgDataList.find(o => o.id === point.organisation_id.id);\n              return {\n                ...point,\n                organisation_name: org ? org.organisation_name : \"Неизвестно\"\n              };\n            });\n            setFilteredPoints(enrichedPoints);\n          }\n        }\n      } catch (error) {\n        console.error(\"Ошибка загрузки данных\", error);\n        setFilteredPoints([]);\n      }\n    };\n    loadData();\n  }, [isAdmin, isEmployee]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"accounting-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041F\\u0443\\u043D\\u043A\\u0442\\u044B \\u0443\\u0447\\u0435\\u0442\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), isEmployee ? /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"accounting-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041A\\u043E\\u043E\\u0440\\u0434\\u0438\\u043D\\u0430\\u0442\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0422\\u0438\\u043F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: filteredPoints.length > 0 ? filteredPoints.map(point => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: point.water_body_id.code_obj.code_value || \"Без названия\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: point.latitude_longitude || \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: point.point_type || \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedPoint(point),\n              children: \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u0436\\u0443\\u0440\\u043D\\u0430\\u043B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 19\n          }, this)]\n        }, point.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"4\",\n            children: \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"accounting-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u041A\\u043E\\u043E\\u0440\\u0434\\u0438\\u043D\\u0430\\u0442\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0422\\u0438\\u043F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: filteredPoints.length > 0 ? filteredPoints.map(point => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: point.water_body_id.code_obj.code_value || \"Без названия\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: point.organisation_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: point.latitude_longitude || \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: point.point_type || \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSelectedPoint(point),\n              children: \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u044C \\u0436\\u0443\\u0440\\u043D\\u0430\\u043B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 19\n          }, this)]\n        }, point.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: \"5\",\n            children: \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this), selectedPoint && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"water-log\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\u0416\\u0443\\u0440\\u043D\\u0430\\u043B \\u0443\\u0447\\u0435\\u0442\\u0430 \\u0432\\u043E\\u0434\\u043E\\u043F\\u043E\\u0442\\u0440\\u0435\\u0431\\u043B\\u0435\\u043D\\u0438\\u044F \\u0434\\u043B\\u044F\", \" \", selectedPoint.water_body_id.code_obj.code_value || \"Без названия\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), isEmployee ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F: \", orgData === null || orgData === void 0 ? void 0 : orgData.organisation_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F: \", selectedPoint.organisation_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"months\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u044F\\u043D\\u0432\\u0430\\u0440\\u044C\",\n          children: \"\\u044F\\u043D\\u0432\\u0430\\u0440\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u0444\\u0435\\u0432\\u0440\\u0430\\u043B\\u044C\",\n          children: \"\\u0444\\u0435\\u0432\\u0440\\u0430\\u043B\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u043C\\u0430\\u0440\\u0442\",\n          children: \"\\u043C\\u0430\\u0440\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u0430\\u043F\\u0440\\u0435\\u043B\\u044C\",\n          children: \"\\u0430\\u043F\\u0440\\u0435\\u043B\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u043C\\u0430\\u0439\",\n          children: \"\\u043C\\u0430\\u0439\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u0438\\u044E\\u043D\\u044C\",\n          children: \"\\u0438\\u044E\\u043D\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u0438\\u044E\\u043B\\u044C\",\n          children: \"\\u0438\\u044E\\u043B\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\",\n          children: \"\\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u0441\\u0435\\u043D\\u0442\\u044F\\u0431\\u0440\\u044C\",\n          children: \"\\u0441\\u0435\\u043D\\u0442\\u044F\\u0431\\u0440\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u043E\\u043A\\u0442\\u044F\\u0431\\u0440\\u044C\",\n          children: \"\\u043E\\u043A\\u0442\\u044F\\u0431\\u0440\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u043D\\u043E\\u044F\\u0431\\u0440\\u044C\",\n          children: \"\\u043D\\u043E\\u044F\\u0431\\u0440\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u0434\\u0435\\u043A\\u0430\\u0431\\u0440\\u044C\",\n          children: \"\\u0434\\u0435\\u043A\\u0430\\u0431\\u0440\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0424\\u0443\\u043D\\u043A\\u0446\\u0438\\u043E\\u043D\\u0430\\u043B \\u0436\\u0443\\u0440\\u043D\\u0430\\u043B\\u0430 \\u0432 \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0435...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedPoint(null),\n        children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s(AccountingPost, \"5RRhUr7Mw0JJGNxJ+/f7i/rFX8g=\");\n_c = AccountingPost;\nexport default AccountingPost;\nvar _c;\n$RefreshReg$(_c, \"AccountingPost\");","map":{"version":3,"names":["React","useState","useEffect","fetchSingleTableData","fetchSingleTableDataWithFilters","jsxDEV","_jsxDEV","AccountingPost","_s","userData","localStorage","getItem","userInfo","JSON","parse","error","console","isAdmin","role","isEmployee","filteredPoints","setFilteredPoints","selectedPoint","setSelectedPoint","orgData","setOrgData","loadData","orgStorage","orgId","id","filters","organisation_id","pointData","orgDataList","enrichedPoints","map","point","org","find","o","organisation_name","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","water_body_id","code_obj","code_value","latitude_longitude","point_type","onClick","colSpan","value","_c","$RefreshReg$"],"sources":["/home/noir/projects/diplom/front/src/components/AccountingPost.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../css/Water.css\";\nimport {\n  fetchSingleTableData,\n  fetchSingleTableDataWithFilters,\n} from \"../api/fetch_records\";\n\nconst AccountingPost = () => {\n  const userData = localStorage.getItem(\"user\");\n  let userInfo = {};\n\n  if (userData) {\n    try {\n      userInfo = JSON.parse(userData);\n    } catch (error) {\n      console.error(\"Ошибка парсинга user:\", error);\n      userInfo = {};\n    }\n  }\n\n  const isAdmin = userInfo.role === \"UserRoles.ADMIN\";\n  const isEmployee = userInfo.role === \"UserRoles.EMPLOYEE\";\n\n  const [filteredPoints, setFilteredPoints] = useState([]);\n  const [selectedPoint, setSelectedPoint] = useState(null);\n  const [orgData, setOrgData] = useState({}); // Добавляем состояние для orgData\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        if (isEmployee) {\n          const orgStorage = JSON.parse(localStorage.getItem(\"org\"));\n          setOrgData(orgStorage); // Сохраняем данные об организации в состояние\n\n          const orgId = orgStorage?.id;\n\n          if (!orgId) {\n            console.error(\"Нет данных об организации для сотрудника\");\n            return;\n          }\n\n          const filters = { organisation_id: orgId };\n          const pointData = await fetchSingleTableDataWithFilters(\n            \"water_point\",\n            filters,\n          );\n\n          if (pointData) {\n            setFilteredPoints(pointData);\n          } else {\n            setFilteredPoints([]);\n          }\n        } else {\n          const orgDataList = await fetchSingleTableData(\"organisations\");\n          const pointData = await fetchSingleTableData(\"water_point\");\n\n          if (!isAdmin) {\n            // Для других ролей, кроме админа и сотрудника, пока нет логики фильтрации\n            // Если нужно, можно добавить фильтрацию по другим критериям\n            const enrichedPoints = pointData.map((point) => {\n              const org = orgDataList.find(\n                (o) => o.id === point.organisation_id.id,\n              );\n              return {\n                ...point,\n                organisation_name: org ? org.organisation_name : \"Неизвестно\",\n              };\n            });\n            setFilteredPoints(enrichedPoints);\n          } else {\n            const enrichedPoints = pointData.map((point) => {\n              const org = orgDataList.find(\n                (o) => o.id === point.organisation_id.id,\n              );\n              return {\n                ...point,\n                organisation_name: org ? org.organisation_name : \"Неизвестно\",\n              };\n            });\n            setFilteredPoints(enrichedPoints);\n          }\n        }\n      } catch (error) {\n        console.error(\"Ошибка загрузки данных\", error);\n        setFilteredPoints([]);\n      }\n    };\n    loadData();\n  }, [isAdmin, isEmployee]);\n\n  return (\n    <div className=\"accounting-container\">\n      <h2>Пункты учета</h2>\n      {isEmployee ? (\n        <table className=\"accounting-table\">\n          <thead>\n            <tr>\n              <th>Название</th>\n              <th>Координаты</th>\n              <th>Тип</th>\n              <th>Действие</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredPoints.length > 0 ? (\n              filteredPoints.map((point) => (\n                <tr key={point.id}>\n                  <td>\n                    {point.water_body_id.code_obj.code_value || \"Без названия\"}\n                  </td>\n                  <td>{point.latitude_longitude || \"-\"}</td>\n                  <td>{point.point_type || \"-\"}</td>\n                  <td>\n                    <button onClick={() => setSelectedPoint(point)}>\n                      Открыть журнал\n                    </button>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan=\"4\">Нет данных</td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      ) : (\n        <table className=\"accounting-table\">\n          <thead>\n            <tr>\n              <th>Название</th>\n              <th>Организация</th>\n              <th>Координаты</th>\n              <th>Тип</th>\n              <th>Действие</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredPoints.length > 0 ? (\n              filteredPoints.map((point) => (\n                <tr key={point.id}>\n                  <td>\n                    {point.water_body_id.code_obj.code_value || \"Без названия\"}\n                  </td>\n                  <td>{point.organisation_name}</td>\n                  <td>{point.latitude_longitude || \"-\"}</td>\n                  <td>{point.point_type || \"-\"}</td>\n                  <td>\n                    <button onClick={() => setSelectedPoint(point)}>\n                      Открыть журнал\n                    </button>\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td colSpan=\"5\">Нет данных</td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      )}\n      {selectedPoint && (\n        <div className=\"water-log\">\n          <h2>\n            Журнал учета водопотребления для{\" \"}\n            {selectedPoint.water_body_id.code_obj.code_value || \"Без названия\"}\n          </h2>\n          {isEmployee ? (\n            <p>Организация: {orgData?.organisation_name}</p>\n          ) : (\n            <p>Организация: {selectedPoint.organisation_name}</p>\n          )}\n          <select id=\"months\">\n            <option value=\"январь\">январь</option>\n            <option value=\"февраль\">февраль</option>\n            <option value=\"март\">март</option>\n            <option value=\"апрель\">апрель</option>\n            <option value=\"май\">май</option>\n            <option value=\"июнь\">июнь</option>\n            <option value=\"июль\">июль</option>\n            <option value=\"август\">август</option>\n            <option value=\"сентябрь\">сентябрь</option>\n            <option value=\"октябрь\">октябрь</option>\n            <option value=\"ноябрь\">ноябрь</option>\n            <option value=\"декабрь\">декабрь</option>\n          </select>\n          {/* Здесь можно подключить компонент журнала и передать selectedPoint.id */}\n          <p>Функционал журнала в разработке...</p>\n          <button onClick={() => setSelectedPoint(null)}>Закрыть</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AccountingPost;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,kBAAkB;AACzB,SACEC,oBAAoB,EACpBC,+BAA+B,QAC1B,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAC7C,IAAIC,QAAQ,GAAG,CAAC,CAAC;EAEjB,IAAIH,QAAQ,EAAE;IACZ,IAAI;MACFG,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC;IACjC,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CH,QAAQ,GAAG,CAAC,CAAC;IACf;EACF;EAEA,MAAMK,OAAO,GAAGL,QAAQ,CAACM,IAAI,KAAK,iBAAiB;EACnD,MAAMC,UAAU,GAAGP,QAAQ,CAACM,IAAI,KAAK,oBAAoB;EAEzD,MAAM,CAACE,cAAc,EAAEC,iBAAiB,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACqB,aAAa,EAAEC,gBAAgB,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACuB,OAAO,EAAEC,UAAU,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAE5CC,SAAS,CAAC,MAAM;IACd,MAAMwB,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QACF,IAAIP,UAAU,EAAE;UACd,MAAMQ,UAAU,GAAGd,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC;UAC1Dc,UAAU,CAACE,UAAU,CAAC,CAAC,CAAC;;UAExB,MAAMC,KAAK,GAAGD,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEE,EAAE;UAE5B,IAAI,CAACD,KAAK,EAAE;YACVZ,OAAO,CAACD,KAAK,CAAC,0CAA0C,CAAC;YACzD;UACF;UAEA,MAAMe,OAAO,GAAG;YAAEC,eAAe,EAAEH;UAAM,CAAC;UAC1C,MAAMI,SAAS,GAAG,MAAM5B,+BAA+B,CACrD,aAAa,EACb0B,OACF,CAAC;UAED,IAAIE,SAAS,EAAE;YACbX,iBAAiB,CAACW,SAAS,CAAC;UAC9B,CAAC,MAAM;YACLX,iBAAiB,CAAC,EAAE,CAAC;UACvB;QACF,CAAC,MAAM;UACL,MAAMY,WAAW,GAAG,MAAM9B,oBAAoB,CAAC,eAAe,CAAC;UAC/D,MAAM6B,SAAS,GAAG,MAAM7B,oBAAoB,CAAC,aAAa,CAAC;UAE3D,IAAI,CAACc,OAAO,EAAE;YACZ;YACA;YACA,MAAMiB,cAAc,GAAGF,SAAS,CAACG,GAAG,CAAEC,KAAK,IAAK;cAC9C,MAAMC,GAAG,GAAGJ,WAAW,CAACK,IAAI,CACzBC,CAAC,IAAKA,CAAC,CAACV,EAAE,KAAKO,KAAK,CAACL,eAAe,CAACF,EACxC,CAAC;cACD,OAAO;gBACL,GAAGO,KAAK;gBACRI,iBAAiB,EAAEH,GAAG,GAAGA,GAAG,CAACG,iBAAiB,GAAG;cACnD,CAAC;YACH,CAAC,CAAC;YACFnB,iBAAiB,CAACa,cAAc,CAAC;UACnC,CAAC,MAAM;YACL,MAAMA,cAAc,GAAGF,SAAS,CAACG,GAAG,CAAEC,KAAK,IAAK;cAC9C,MAAMC,GAAG,GAAGJ,WAAW,CAACK,IAAI,CACzBC,CAAC,IAAKA,CAAC,CAACV,EAAE,KAAKO,KAAK,CAACL,eAAe,CAACF,EACxC,CAAC;cACD,OAAO;gBACL,GAAGO,KAAK;gBACRI,iBAAiB,EAAEH,GAAG,GAAGA,GAAG,CAACG,iBAAiB,GAAG;cACnD,CAAC;YACH,CAAC,CAAC;YACFnB,iBAAiB,CAACa,cAAc,CAAC;UACnC;QACF;MACF,CAAC,CAAC,OAAOnB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9CM,iBAAiB,CAAC,EAAE,CAAC;MACvB;IACF,CAAC;IACDK,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,CAACT,OAAO,EAAEE,UAAU,CAAC,CAAC;EAEzB,oBACEb,OAAA;IAAKmC,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBACnCpC,OAAA;MAAAoC,QAAA,EAAI;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACpB3B,UAAU,gBACTb,OAAA;MAAOmC,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBACjCpC,OAAA;QAAAoC,QAAA,eACEpC,OAAA;UAAAoC,QAAA,gBACEpC,OAAA;YAAAoC,QAAA,EAAI;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjBxC,OAAA;YAAAoC,QAAA,EAAI;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnBxC,OAAA;YAAAoC,QAAA,EAAI;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACZxC,OAAA;YAAAoC,QAAA,EAAI;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACf;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACRxC,OAAA;QAAAoC,QAAA,EACGtB,cAAc,CAAC2B,MAAM,GAAG,CAAC,GACxB3B,cAAc,CAACe,GAAG,CAAEC,KAAK,iBACvB9B,OAAA;UAAAoC,QAAA,gBACEpC,OAAA;YAAAoC,QAAA,EACGN,KAAK,CAACY,aAAa,CAACC,QAAQ,CAACC,UAAU,IAAI;UAAc;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC,eACLxC,OAAA;YAAAoC,QAAA,EAAKN,KAAK,CAACe,kBAAkB,IAAI;UAAG;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1CxC,OAAA;YAAAoC,QAAA,EAAKN,KAAK,CAACgB,UAAU,IAAI;UAAG;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAClCxC,OAAA;YAAAoC,QAAA,eACEpC,OAAA;cAAQ+C,OAAO,EAAEA,CAAA,KAAM9B,gBAAgB,CAACa,KAAK,CAAE;cAAAM,QAAA,EAAC;YAEhD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC;QAAA,GAVEV,KAAK,CAACP,EAAE;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAWb,CACL,CAAC,gBAEFxC,OAAA;UAAAoC,QAAA,eACEpC,OAAA;YAAIgD,OAAO,EAAC,GAAG;YAAAZ,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B;MACL;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,gBAERxC,OAAA;MAAOmC,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBACjCpC,OAAA;QAAAoC,QAAA,eACEpC,OAAA;UAAAoC,QAAA,gBACEpC,OAAA;YAAAoC,QAAA,EAAI;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjBxC,OAAA;YAAAoC,QAAA,EAAI;UAAW;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACpBxC,OAAA;YAAAoC,QAAA,EAAI;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnBxC,OAAA;YAAAoC,QAAA,EAAI;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACZxC,OAAA;YAAAoC,QAAA,EAAI;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACf;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACRxC,OAAA;QAAAoC,QAAA,EACGtB,cAAc,CAAC2B,MAAM,GAAG,CAAC,GACxB3B,cAAc,CAACe,GAAG,CAAEC,KAAK,iBACvB9B,OAAA;UAAAoC,QAAA,gBACEpC,OAAA;YAAAoC,QAAA,EACGN,KAAK,CAACY,aAAa,CAACC,QAAQ,CAACC,UAAU,IAAI;UAAc;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC,eACLxC,OAAA;YAAAoC,QAAA,EAAKN,KAAK,CAACI;UAAiB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAClCxC,OAAA;YAAAoC,QAAA,EAAKN,KAAK,CAACe,kBAAkB,IAAI;UAAG;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1CxC,OAAA;YAAAoC,QAAA,EAAKN,KAAK,CAACgB,UAAU,IAAI;UAAG;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAClCxC,OAAA;YAAAoC,QAAA,eACEpC,OAAA;cAAQ+C,OAAO,EAAEA,CAAA,KAAM9B,gBAAgB,CAACa,KAAK,CAAE;cAAAM,QAAA,EAAC;YAEhD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC;QAAA,GAXEV,KAAK,CAACP,EAAE;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAYb,CACL,CAAC,gBAEFxC,OAAA;UAAAoC,QAAA,eACEpC,OAAA;YAAIgD,OAAO,EAAC,GAAG;YAAAZ,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B;MACL;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACR,EACAxB,aAAa,iBACZhB,OAAA;MAAKmC,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxBpC,OAAA;QAAAoC,QAAA,GAAI,mLAC8B,EAAC,GAAG,EACnCpB,aAAa,CAAC0B,aAAa,CAACC,QAAQ,CAACC,UAAU,IAAI,cAAc;MAAA;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE,CAAC,EACJ3B,UAAU,gBACTb,OAAA;QAAAoC,QAAA,GAAG,sEAAa,EAAClB,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEgB,iBAAiB;MAAA;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,gBAEhDxC,OAAA;QAAAoC,QAAA,GAAG,sEAAa,EAACpB,aAAa,CAACkB,iBAAiB;MAAA;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CACrD,eACDxC,OAAA;QAAQuB,EAAE,EAAC,QAAQ;QAAAa,QAAA,gBACjBpC,OAAA;UAAQiD,KAAK,EAAC,sCAAQ;UAAAb,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtCxC,OAAA;UAAQiD,KAAK,EAAC,4CAAS;UAAAb,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACxCxC,OAAA;UAAQiD,KAAK,EAAC,0BAAM;UAAAb,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClCxC,OAAA;UAAQiD,KAAK,EAAC,sCAAQ;UAAAb,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtCxC,OAAA;UAAQiD,KAAK,EAAC,oBAAK;UAAAb,QAAA,EAAC;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAChCxC,OAAA;UAAQiD,KAAK,EAAC,0BAAM;UAAAb,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClCxC,OAAA;UAAQiD,KAAK,EAAC,0BAAM;UAAAb,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClCxC,OAAA;UAAQiD,KAAK,EAAC,sCAAQ;UAAAb,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtCxC,OAAA;UAAQiD,KAAK,EAAC,kDAAU;UAAAb,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC1CxC,OAAA;UAAQiD,KAAK,EAAC,4CAAS;UAAAb,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACxCxC,OAAA;UAAQiD,KAAK,EAAC,sCAAQ;UAAAb,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACtCxC,OAAA;UAAQiD,KAAK,EAAC,4CAAS;UAAAb,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClC,CAAC,eAETxC,OAAA;QAAAoC,QAAA,EAAG;MAAkC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACzCxC,OAAA;QAAQ+C,OAAO,EAAEA,CAAA,KAAM9B,gBAAgB,CAAC,IAAI,CAAE;QAAAmB,QAAA,EAAC;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5D,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACtC,EAAA,CA3LID,cAAc;AAAAiD,EAAA,GAAdjD,cAAc;AA6LpB,eAAeA,cAAc;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}