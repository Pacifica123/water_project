{"ast":null,"code":"var _jsxFileName = \"/home/noir/projects/diplom2/front/src/components/WaterReportForm.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\nimport { fetchWaterObjects } from \"../api/records.js\";\nimport { sendFormData } from \"../api/add_records.js\";\nimport { fetchSingleTableData, fetchStructDataWithFilters } from \"../api/fetch_records.js\";\nimport { useNotification } from \"./NotificationContext.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { translate } from \"../utils/translations.js\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction WaterReportForm() {\n  _s();\n  const [quarter, setQuarter] = useState(1);\n  const [data, setData] = useState([{\n    month: \"январь\",\n    fact: 0,\n    population: 0,\n    other: 0\n  }, {\n    month: \"февраль\",\n    fact: 0,\n    population: 0,\n    other: 0\n  }, {\n    month: \"март\",\n    fact: 0,\n    population: 0,\n    other: 0\n  }]);\n  const [waterObjects, setWaterObjects] = useState([]);\n  const [selectedWaterObject, setSelectedWaterObject] = useState(null);\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [role, setRole] = useState(null);\n\n  // useEffect для  фактического из Журнала\n  useEffect(() => {\n    const loadActualData = async () => {\n      const quarterMonthsEnum = {\n        1: [\"JANUARY\", \"FEBRUARY\", \"MARCH\"],\n        2: [\"APRIL\", \"MAY\", \"JUNE\"],\n        3: [\"JULY\", \"AUGUST\", \"SEPTEMBER\"],\n        4: [\"OCTOBER\", \"NOVEMBER\", \"DECEMBER\"]\n      };\n      if (role !== \"EMPLOYEE\" || !selectedWaterObject || !year || !quarter) return;\n      try {\n        const filters = {\n          year,\n          water_point_id: parseInt(selectedWaterObject),\n          months: quarterMonthsEnum[quarter]\n        };\n        const result = await fetchStructDataWithFilters(\"get_actual_from_log\", filters);\n        console.log(result);\n        const newData = quarters[quarter].map((monthRu, idx) => {\n          const monthEn = quarterMonthsEnum[quarter][idx];\n          return {\n            month: monthRu,\n            fact: result[monthEn] || 0,\n            population: 0,\n            other: 0\n          };\n        });\n        setData(newData);\n      } catch (error) {\n        console.error(\"Ошибка загрузки фактических данных:\", error);\n      }\n    };\n    loadActualData();\n  }, [selectedWaterObject, year, quarter, role]);\n\n  // Новый useEffect для загрузки данных REPORT_ADMIN\n  useEffect(() => {\n    const loadReportData = async () => {\n      try {\n        const allRecords = await fetchSingleTableData(\"wcl_category\");\n        if (selectedWaterObject && year && quarter) {\n          // Определяем квартал как массив месяцев\n          const quarterMonths = {\n            1: [\"JANUARY\", \"FEBRUARY\", \"MARCH\"],\n            2: [\"APRIL\", \"MAY\", \"JUNE\"],\n            3: [\"JULY\", \"AUGUST\", \"SEPTEMBER\"],\n            4: [\"OCTOBER\", \"NOVEMBER\", \"DECEMBER\"]\n          };\n\n          // Фильтруем по точке забора, году и месяцу, входящему в выбранный квартал\n          const filteredRecords = allRecords.filter(record => record.water_point_id.id === parseInt(selectedWaterObject) && record.created_at.includes(year) &&\n          // проверка года в формате строки \"2025\"\n          quarterMonths[quarter].includes(record.month));\n          console.log(\"Отсортированные справки:\", filteredRecords);\n\n          // Группируем по месяцам и суммируем значения категорий\n          const groupedData = filteredRecords.reduce((acc, record) => {\n            const month = record.month; // Прямое использование ENUM-значения\n            if (!acc[month]) {\n              acc[month] = {\n                month,\n                fact: 0,\n                population: 0,\n                other: 0\n              };\n            }\n\n            // Суммируем значения по категориям\n            if (record.category === \"ACTUAL\") acc[month].fact += record.value;\n            if (record.category === \"POPULATION\") acc[month].population += record.value;\n            if (record.category === \"OTHER\") acc[month].other += record.value;\n            return acc;\n          }, {});\n\n          // Преобразуем сгруппированные данные в массив и обновляем состояние\n          const updatedData = Object.values(groupedData);\n          setData(updatedData);\n        }\n      } catch (error) {\n        console.error(\"Ошибка загрузки данных отчета:\", error);\n      }\n    };\n    if (role === \"REPORT_ADMIN\") {\n      loadReportData();\n    }\n  }, [selectedWaterObject, year, quarter, role]); // Вызываем, когда изменяется выбранная точка\n\n  useEffect(() => {\n    const checkRole = async () => {\n      try {\n        const userData = JSON.parse(localStorage.getItem(\"user\"));\n        const userRole = userData === null || userData === void 0 ? void 0 : userData.role.replace(\"UserRoles.\", \"\");\n        setRole(userRole);\n      } catch (error) {\n        console.error(\"Ошибка при проверке роли пользователя\", error);\n      }\n    };\n    checkRole();\n    const loadWaterObjects = async () => {\n      try {\n        const objects = await fetchWaterObjects(role);\n        setWaterObjects(objects);\n      } catch (error) {\n        console.error(\"Ошибка загрузки водных объектов\", error);\n      }\n    };\n    if (role === \"EMPLOYEE\" || role === \"REPORT_ADMIN\") {\n      console.log(\"Роль перед loadWaterObjects: \", role);\n      loadWaterObjects();\n    }\n  }, [role]);\n  const [alertVisible, setAlertVisible] = useState(false);\n  const showAlert = () => {\n    setAlertVisible(true);\n    setTimeout(() => {\n      setAlertVisible(false);\n    }, 20000);\n  };\n  const quarters = {\n    1: [\"январь\", \"февраль\", \"март\"],\n    2: [\"апрель\", \"май\", \"июнь\"],\n    3: [\"июль\", \"август\", \"сентябрь\"],\n    4: [\"октябрь\", \"ноябрь\", \"декабрь\"]\n  };\n  const handleQuarterChange = event => {\n    const selectedQuarter = parseInt(event.target.value);\n    setQuarter(selectedQuarter);\n    setData(quarters[selectedQuarter].map(month => ({\n      month,\n      fact: 0,\n      population: 0,\n      other: 0\n    })));\n  };\n  const handleInputChange = (index, field, value) => {\n    let sanitized = value.replace(/[^0-9.]/g, \"\");\n    sanitized = sanitized.replace(/^0+(?=\\d)/, \"\");\n    const newValue = sanitized === \"\" ? \"0\" : sanitized;\n    const updatedData = [...data];\n    const currentRow = updatedData[index];\n    const fact = field === \"fact\" ? parseFloat(newValue) : parseFloat(currentRow.fact);\n    const population = field === \"population\" ? parseFloat(newValue) : parseFloat(currentRow.population);\n    const other = field === \"other\" ? parseFloat(newValue) : parseFloat(currentRow.other);\n\n    // Проверка: сумма population + other не должна превышать fact\n    if ((field === \"population\" || field === \"other\") && population + other > fact) {\n      showError(\"❗️ Сумма 'Население' и 'Прочее' не может превышать значение 'Факт'.\");\n      return;\n    }\n    if (field === \"fact\" && population + other > parseFloat(newValue)) {\n      showError(\"❗️ 'Факт' не может быть меньше суммы 'Население' и 'Прочее'.\");\n      return;\n    }\n    updatedData[index][field] = newValue;\n    setData(updatedData);\n  };\n  const sanitizeNumberInput = value => {\n    const cleaned = value.replace(/^0+(?=\\d)/, \"\"); // убираем начальные нули\n    const parsed = parseFloat(cleaned);\n    return isNaN(parsed) || parsed < 0 ? 0 : Math.round(parsed * 100) / 100; // округление до 2 знаков\n  };\n  const {\n    showSuccess,\n    showError\n  } = useNotification();\n  const calculateTotals = () => {\n    return data.reduce((totals, row) => ({\n      fact: totals.fact + parseFloat(row.fact || 0),\n      population: totals.population + parseFloat(row.population || 0),\n      other: totals.other + parseFloat(row.other || 0)\n    }), {\n      fact: 0,\n      population: 0,\n      other: 0\n    });\n  };\n  const handleSubmit = async () => {\n    try {\n      const response = await sendFormData(\"send_quarter\", {\n        'waterPointId': selectedWaterObject,\n        'quarter': quarter,\n        'data': data\n      });\n      console.log(\"Данные успешно отправлены\", response);\n      showSuccess();\n    } catch (error) {\n      showError();\n      console.error(\"Ошибка при отправке данных\", error.message);\n    }\n  };\n  const totals = calculateTotals();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"water-report-form\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-container-waterReropt\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        align: \"center\",\n        children: role === \"EMPLOYEE\" ? 'Ввод показаний \"Забор поверхностной воды за квартал\"' : 'Просмотр данных \"Забор поверхностной воды за квартал\"'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 5\n      }, this), role === \"EMPLOYEE\" ?\n      /*#__PURE__*/\n      // Интерфейс для EMPLOYEE\n      _jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selectors\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selector-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u043E\\u0447\\u043A\\u0443 \\u0437\\u0430\\u0431\\u043E\\u0440\\u0430:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"custom-select\",\n                value: selectedWaterObject,\n                onChange: e => setSelectedWaterObject(e.target.value),\n                disabled: role !== \"EMPLOYEE\" // Disable для админа\n                ,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u043E\\u0447\\u043A\\u0443 \\u0437\\u0430\\u0431\\u043E\\u0440\\u0430/\\u0441\\u0431\\u0440\\u043E\\u0441\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 9\n                }, this), waterObjects.map(obj => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: obj.water_body_id.id,\n                  children: [obj.water_body_id.code_obj.code_value, \" - \", obj.water_body_id.code_obj.code_symbol]\n                }, obj.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 11\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"custom-select\",\n                value: quarter,\n                onChange: handleQuarterChange,\n                disabled: role !== \"EMPLOYEE\" // Disable для админа\n                ,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 1,\n                  children: \"1 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 2,\n                  children: \"2 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 3,\n                  children: \"3 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 4,\n                  children: \"4 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"data-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0414\\u0430\\u0442\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0424\\u0430\\u043A\\u0442, \\u0442\\u044B\\u0441. \\u043C3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041D\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435, \\u0442\\u044B\\u0441. \\u043C3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041F\\u0440\\u043E\\u0447\\u0435\\u0435, \\u0442\\u044B\\u0441. \\u043C3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: data.map((row, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: translate(row.month)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  pattern: \"[0-9]*\",\n                  className: \"narrow-input\",\n                  value: row.fact,\n                  onChange: e => handleInputChange(index, \"fact\", e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  pattern: \"[0-9]*\",\n                  className: \"narrow-input\",\n                  value: row.population,\n                  onChange: e => handleInputChange(index, \"population\", e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  pattern: \"[0-9]*\",\n                  className: \"narrow-input\",\n                  value: row.other,\n                  onChange: e => handleInputChange(index, \"other\", e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 11\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"data-table-result\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"th\", {\n                  colSpan: \"3\",\n                  children: \"\\u0418\\u0442\\u043E\\u0433\\u043E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0424\\u0430\\u043A\\u0442, \\u0442\\u044B\\u0441. \\u043C3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u041D\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435, \\u0442\\u044B\\u0441. \\u043C3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u041F\\u0440\\u043E\\u0447\\u0435\\u0435, \\u0442\\u044B\\u0441. \\u043C3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: totals.fact\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: totals.population\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: totals.other\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 9\n        }, this), alertVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-alert\",\n          children: \"\\u2705 \\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u043E \\u043E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u044B!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit-button-WaterReportForm\",\n          onClick: handleSubmit,\n          children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true) :\n      /*#__PURE__*/\n      // Интерфейс для REPORT_ADMIN\n      _jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selectors\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selector-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"custom-select\",\n                value: quarter,\n                onChange: handleQuarterChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 1,\n                  children: \"1 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 2,\n                  children: \"2 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 3,\n                  children: \"3 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: 4,\n                  children: \"4 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0433\\u043E\\u0434:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"custom-select\",\n                value: year,\n                onChange: e => setYear(parseInt(e.target.value)),\n                children: Array.from({\n                  length: 10\n                }, (_, i) => {\n                  const yearValue = new Date().getFullYear() - i;\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: yearValue,\n                    children: yearValue\n                  }, yearValue, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 13\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u043E\\u0447\\u043A\\u0443 \\u0437\\u0430\\u0431\\u043E\\u0440\\u0430:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"custom-select\",\n                value: selectedWaterObject,\n                onChange: e => setSelectedWaterObject(e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u043E\\u0447\\u043A\\u0443 \\u0437\\u0430\\u0431\\u043E\\u0440\\u0430/\\u0441\\u0431\\u0440\\u043E\\u0441\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 9\n                }, this), waterObjects.map(obj => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: obj.id,\n                  children: [obj.water_body_id.code_obj.code_value, \" - \", obj.water_body_id.code_obj.code_symbol]\n                }, obj.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 11\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"data-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0414\\u0430\\u0442\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0424\\u0430\\u043A\\u0442, \\u0442\\u044B\\u0441. \\u043C3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041D\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435, \\u0442\\u044B\\u0441. \\u043C3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041F\\u0440\\u043E\\u0447\\u0435\\u0435, \\u0442\\u044B\\u0441. \\u043C3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: data.map((row, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: translate(row.month)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.fact\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.population\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: row.other\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 11\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"data-table-result\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"th\", {\n                  colSpan: \"3\",\n                  children: \"\\u0418\\u0442\\u043E\\u0433\\u043E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0424\\u0430\\u043A\\u0442, \\u0442\\u044B\\u0441. \\u043C3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u041D\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435, \\u0442\\u044B\\u0441. \\u043C3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u041F\\u0440\\u043E\\u0447\\u0435\\u0435, \\u0442\\u044B\\u0441. \\u043C3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: totals.fact\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: totals.population\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: totals.other\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 242,\n    columnNumber: 5\n  }, this);\n}\n_s(WaterReportForm, \"Mnrq3ygwTwb4/CCqA3OCFoX0Ixg=\", false, function () {\n  return [useNotification];\n});\n_c = WaterReportForm;\nexport default WaterReportForm;\nvar _c;\n$RefreshReg$(_c, \"WaterReportForm\");","map":{"version":3,"names":["fetchWaterObjects","sendFormData","fetchSingleTableData","fetchStructDataWithFilters","useNotification","React","useState","useEffect","translate","jsxDEV","_jsxDEV","Fragment","_Fragment","WaterReportForm","_s","quarter","setQuarter","data","setData","month","fact","population","other","waterObjects","setWaterObjects","selectedWaterObject","setSelectedWaterObject","year","setYear","Date","getFullYear","role","setRole","loadActualData","quarterMonthsEnum","filters","water_point_id","parseInt","months","result","console","log","newData","quarters","map","monthRu","idx","monthEn","error","loadReportData","allRecords","quarterMonths","filteredRecords","filter","record","id","created_at","includes","groupedData","reduce","acc","category","value","updatedData","Object","values","checkRole","userData","JSON","parse","localStorage","getItem","userRole","replace","loadWaterObjects","objects","alertVisible","setAlertVisible","showAlert","setTimeout","handleQuarterChange","event","selectedQuarter","target","handleInputChange","index","field","sanitized","newValue","currentRow","parseFloat","showError","sanitizeNumberInput","cleaned","parsed","isNaN","Math","round","showSuccess","calculateTotals","totals","row","handleSubmit","response","message","className","children","align","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","disabled","obj","water_body_id","code_obj","code_value","code_symbol","type","pattern","colSpan","onClick","Array","from","length","_","i","yearValue","_c","$RefreshReg$"],"sources":["/home/noir/projects/diplom2/front/src/components/WaterReportForm.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\nimport {fetchWaterObjects }from \"../api/records.js\";\nimport {sendFormData} from \"../api/add_records.js\";\nimport { fetchSingleTableData, fetchStructDataWithFilters } from \"../api/fetch_records.js\";\nimport { useNotification } from \"./NotificationContext.js\";\n\n\nimport React, { useState, useEffect } from \"react\";\nimport { translate } from \"../utils/translations.js\";\n\nfunction WaterReportForm() {\n  const [quarter, setQuarter] = useState(1);\n  const [data, setData] = useState([\n    { month: \"январь\", fact: 0, population: 0, other: 0 },\n    { month: \"февраль\", fact: 0, population: 0, other: 0 },\n    { month: \"март\", fact: 0, population: 0, other: 0 },\n  ]);\n\n\n  const [waterObjects, setWaterObjects] = useState([]);\n  const [selectedWaterObject, setSelectedWaterObject] = useState(null);\n  const [year, setYear] = useState(new Date().getFullYear());\n  const [role, setRole] = useState(null);\n\n  // useEffect для  фактического из Журнала\n  useEffect(() =>{\n    const loadActualData = async () => {\n      const quarterMonthsEnum = {\n        1: [\"JANUARY\", \"FEBRUARY\", \"MARCH\"],\n        2: [\"APRIL\", \"MAY\", \"JUNE\"],\n        3: [\"JULY\", \"AUGUST\", \"SEPTEMBER\"],\n        4: [\"OCTOBER\", \"NOVEMBER\", \"DECEMBER\"],\n      };\n      if (role !== \"EMPLOYEE\" || !selectedWaterObject || !year || !quarter) return;\n\n      try {\n        const filters = {\n          year,\n          water_point_id: parseInt(selectedWaterObject),\n            months: quarterMonthsEnum[quarter],\n        };\n\n        const result = await fetchStructDataWithFilters(\"get_actual_from_log\", filters);\n        console.log(result);\n\n        const newData = quarters[quarter].map((monthRu, idx) => {\n          const monthEn = quarterMonthsEnum[quarter][idx];\n          return {\n            month: monthRu,\n            fact: result[monthEn] || 0,\n            population: 0,\n            other: 0,\n          };\n        });\n\n        setData(newData);\n      } catch (error) {\n        console.error(\"Ошибка загрузки фактических данных:\", error);\n      }\n    };\n\n    loadActualData();\n  }, [selectedWaterObject, year, quarter, role]);\n\n\n  // Новый useEffect для загрузки данных REPORT_ADMIN\n  useEffect(() => {\n    const loadReportData = async () => {\n      try {\n        const allRecords = await fetchSingleTableData(\"wcl_category\");\n\n        if (selectedWaterObject && year && quarter) {\n          // Определяем квартал как массив месяцев\n          const quarterMonths = {\n            1: [\"JANUARY\", \"FEBRUARY\", \"MARCH\"],\n            2: [\"APRIL\", \"MAY\", \"JUNE\"],\n            3: [\"JULY\", \"AUGUST\", \"SEPTEMBER\"],\n            4: [\"OCTOBER\", \"NOVEMBER\", \"DECEMBER\"],\n          };\n\n          // Фильтруем по точке забора, году и месяцу, входящему в выбранный квартал\n          const filteredRecords = allRecords.filter(\n            (record) =>\n            record.water_point_id.id === parseInt(selectedWaterObject) &&\n            record.created_at.includes(year) && // проверка года в формате строки \"2025\"\n            quarterMonths[quarter].includes(record.month)\n          );\n\n          console.log(\"Отсортированные справки:\", filteredRecords);\n\n          // Группируем по месяцам и суммируем значения категорий\n          const groupedData = filteredRecords.reduce((acc, record) => {\n            const month = record.month; // Прямое использование ENUM-значения\n            if (!acc[month]) {\n              acc[month] = { month, fact: 0, population: 0, other: 0 };\n            }\n\n            // Суммируем значения по категориям\n            if (record.category === \"ACTUAL\") acc[month].fact += record.value;\n            if (record.category === \"POPULATION\") acc[month].population += record.value;\n            if (record.category === \"OTHER\") acc[month].other += record.value;\n\n            return acc;\n          }, {});\n\n          // Преобразуем сгруппированные данные в массив и обновляем состояние\n          const updatedData = Object.values(groupedData);\n          setData(updatedData);\n        }\n      } catch (error) {\n        console.error(\"Ошибка загрузки данных отчета:\", error);\n      }\n    };\n\n    if (role === \"REPORT_ADMIN\") {\n      loadReportData();\n    }\n  }, [selectedWaterObject, year, quarter, role]); // Вызываем, когда изменяется выбранная точка\n\n  useEffect(() => {\n\n\n    const checkRole = async () => {\n      try {\n        const userData = JSON.parse(localStorage.getItem(\"user\"));\n        const userRole = userData?.role.replace(\"UserRoles.\", \"\");\n        setRole(userRole);\n      } catch (error) {\n        console.error(\"Ошибка при проверке роли пользователя\", error);\n      }\n    };\n    checkRole();\n    const loadWaterObjects = async () => {\n      try {\n        const objects = await fetchWaterObjects(role);\n        setWaterObjects(objects);\n      } catch (error) {\n        console.error(\"Ошибка загрузки водных объектов\", error);\n      }\n    };\n    if (role === \"EMPLOYEE\" || role === \"REPORT_ADMIN\") {\n      console.log(\"Роль перед loadWaterObjects: \", role);\n      loadWaterObjects();\n    }\n  }, [role]);\n\n  const [alertVisible, setAlertVisible] = useState(false);\n\n  const showAlert = () => {\n    setAlertVisible(true);\n    setTimeout(() => {\n      setAlertVisible(false);\n    }, 20000);\n  };\n\n\n  const quarters = {\n    1: [\"январь\", \"февраль\", \"март\"],\n    2: [\"апрель\", \"май\", \"июнь\"],\n    3: [\"июль\", \"август\", \"сентябрь\"],\n    4: [\"октябрь\", \"ноябрь\", \"декабрь\"],\n  };\n\n  const handleQuarterChange = (event) => {\n    const selectedQuarter = parseInt(event.target.value);\n    setQuarter(selectedQuarter);\n    setData(\n      quarters[selectedQuarter].map((month) => ({\n        month,\n        fact: 0,\n        population: 0,\n        other: 0,\n      }))\n    );\n  };\n\n  const handleInputChange = (index, field, value) => {\n    let sanitized = value.replace(/[^0-9.]/g, \"\");\n    sanitized = sanitized.replace(/^0+(?=\\d)/, \"\");\n    const newValue = sanitized === \"\" ? \"0\" : sanitized;\n\n    const updatedData = [...data];\n    const currentRow = updatedData[index];\n\n    const fact = field === \"fact\" ? parseFloat(newValue) : parseFloat(currentRow.fact);\n    const population = field === \"population\" ? parseFloat(newValue) : parseFloat(currentRow.population);\n    const other = field === \"other\" ? parseFloat(newValue) : parseFloat(currentRow.other);\n\n    // Проверка: сумма population + other не должна превышать fact\n    if ((field === \"population\" || field === \"other\") && (population + other > fact)) {\n      showError(\"❗️ Сумма 'Население' и 'Прочее' не может превышать значение 'Факт'.\");\n      return;\n    }\n\n    if (field === \"fact\" && (population + other > parseFloat(newValue))) {\n      showError(\"❗️ 'Факт' не может быть меньше суммы 'Население' и 'Прочее'.\");\n      return;\n    }\n\n    updatedData[index][field] = newValue;\n    setData(updatedData);\n  };\n\n\n  const sanitizeNumberInput = (value) => {\n    const cleaned = value.replace(/^0+(?=\\d)/, \"\"); // убираем начальные нули\n    const parsed = parseFloat(cleaned);\n    return isNaN(parsed) || parsed < 0 ? 0 : Math.round(parsed * 100) / 100; // округление до 2 знаков\n  };\n\n\n\n  const {showSuccess, showError} = useNotification();\n\n  const calculateTotals = () => {\n    return data.reduce(\n      (totals, row) => ({\n        fact: totals.fact + parseFloat(row.fact || 0),\n                        population: totals.population + parseFloat(row.population || 0),\n                        other: totals.other + parseFloat(row.other || 0),\n      }),\n      { fact: 0, population: 0, other: 0 }\n    );\n  };\n\n\n  const handleSubmit = async () => {\n    try {\n      const response = await sendFormData(\"send_quarter\", {'waterPointId': selectedWaterObject, 'quarter': quarter, 'data': data});\n      console.log(\"Данные успешно отправлены\", response);\n      showSuccess();\n    } catch (error) {\n      showError();\n      console.error(\"Ошибка при отправке данных\", error.message);\n    }\n  };\n\n  const totals = calculateTotals();\n\n  return (\n    <div className=\"water-report-form\">\n    <div className=\"content-container-waterReropt\">\n    <h2  align=\"center\" >\n    {role === \"EMPLOYEE\"\n      ? 'Ввод показаний \"Забор поверхностной воды за квартал\"'\n      : 'Просмотр данных \"Забор поверхностной воды за квартал\"'}\n      </h2>\n      {role === \"EMPLOYEE\" ? (\n        // Интерфейс для EMPLOYEE\n        <>\n        <div className=\"selectors\">\n        <div className=\"selector-row\">\n        <label>\n        Выберите точку забора:\n        <select\n        className=\"custom-select\"\n        value={selectedWaterObject}\n        onChange={(e) => setSelectedWaterObject(e.target.value)}\n        disabled={role !== \"EMPLOYEE\"} // Disable для админа\n        >\n        <option value=\"\">Выберите точку забора/сброса</option>\n        {waterObjects.map((obj) => (\n          <option\n          key={obj.id}\n          value={obj.water_body_id.id}\n          >\n          {obj.water_body_id.code_obj.code_value} - {obj.water_body_id.code_obj.code_symbol}\n          </option>\n        ))}\n        </select>\n        </label>\n        <label>\n        Выберите квартал:\n        <select\n        className=\"custom-select\"\n        value={quarter}\n        onChange={handleQuarterChange}\n        disabled={role !== \"EMPLOYEE\"} // Disable для админа\n        >\n        <option value={1}>1 квартал</option>\n        <option value={2}>2 квартал</option>\n        <option value={3}>3 квартал</option>\n        <option value={4}>4 квартал</option>\n        </select>\n        </label>\n        </div>\n        </div>\n        <table className=\"data-table\">\n        <thead>\n        <tr>\n        <th>Дата</th>\n        <th>Факт, тыс. м3</th>\n        <th>Население, тыс. м3</th>\n        <th>Прочее, тыс. м3</th>\n        </tr>\n        </thead>\n        <tbody>\n        {data.map((row, index) => (\n          <tr key={index}>\n          <td>{translate(row.month)}</td>\n          <td>\n          <input\n          type=\"number\"\n          pattern=\"[0-9]*\"\n          className=\"narrow-input\"\n          value={row.fact}\n          onChange={(e) =>\n            handleInputChange(index, \"fact\", e.target.value)\n          }\n          />\n          </td>\n          <td>\n          <input\n          type=\"number\"\n          pattern=\"[0-9]*\"\n          className=\"narrow-input\"\n          value={row.population}\n          onChange={(e) =>\n            handleInputChange(index, \"population\", e.target.value)\n          }\n          />\n          </td>\n          <td>\n          <input\n          type=\"number\"\n          pattern=\"[0-9]*\"\n          className=\"narrow-input\"\n          value={row.other}\n          onChange={(e) =>\n            handleInputChange(index, \"other\", e.target.value)\n          }\n          />\n          </td>\n          </tr>\n        ))}\n        </tbody>\n        </table>\n        <div>\n        <table className=\"data-table-result\">\n        <thead>\n        <tr>\n        <th colSpan=\"3\" >Итого</th>\n        </tr>\n        <tr>\n        <th>Факт, тыс. м3</th>\n        <th>Население, тыс. м3</th>\n        <th>Прочее, тыс. м3</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n        <td>{totals.fact}</td>\n        <td>{totals.population}</td>\n        <td>{totals.other}</td>\n        </tr>\n        </tbody>\n        </table>\n        </div>\n        {alertVisible && (\n          <div className=\"custom-alert\">\n          ✅ Данные успешно отправлены!\n          </div>\n        )}\n        <button className=\"submit-button-WaterReportForm\" onClick={handleSubmit}>\n        Отправить\n        </button>\n        </>\n      ) : (\n        // Интерфейс для REPORT_ADMIN\n        <>\n        <div className=\"selectors\">\n        <div className=\"selector-row\">\n        <label>\n        Выберите квартал:\n        <select\n        className=\"custom-select\"\n        value={quarter}\n        onChange={handleQuarterChange}\n        >\n        <option value={1}>1 квартал</option>\n        <option value={2}>2 квартал</option>\n        <option value={3}>3 квартал</option>\n        <option value={4}>4 квартал</option>\n        </select>\n        </label>\n        <label>\n        Выберите год:\n        <select\n        className=\"custom-select\"\n        value={year}\n        onChange={(e) => setYear(parseInt(e.target.value))}\n        >\n        {Array.from({ length: 10 }, (_, i) => {\n          const yearValue = new Date().getFullYear() - i;\n          return (\n            <option key={yearValue} value={yearValue}>\n            {yearValue}\n            </option>\n          );\n        })}\n        </select>\n        </label>\n        <label>\n        Выберите точку забора:\n        <select\n        className=\"custom-select\"\n        value={selectedWaterObject}\n        onChange={(e) => setSelectedWaterObject(e.target.value)}\n        >\n        <option value=\"\">Выберите точку забора/сброса</option>\n        {waterObjects.map((obj) => (\n          <option\n          key={obj.id}\n          value={obj.id}\n          >\n          {obj.water_body_id.code_obj.code_value} - {obj.water_body_id.code_obj.code_symbol}\n          </option>\n        ))}\n        </select>\n        </label>\n        </div>\n        </div>\n        {/* Отображение данных для REPORT_ADMIN */}\n        <table className=\"data-table\">\n        <thead>\n        <tr>\n        <th>Дата</th>\n        <th>Факт, тыс. м3</th>\n        <th>Население, тыс. м3</th>\n        <th>Прочее, тыс. м3</th>\n        </tr>\n        </thead>\n        <tbody>\n        {data.map((row, index) => (\n          <tr key={index}>\n          <td>{translate(row.month)}</td>\n          <td>{row.fact}</td>\n          <td>{row.population}</td>\n          <td>{row.other}</td>\n          </tr>\n        ))}\n        </tbody>\n        </table>\n        <div>\n        <table className=\"data-table-result\">\n        <thead>\n        <tr>\n        <th colSpan=\"3\" >Итого</th>\n        </tr>\n        <tr>\n        <th>Факт, тыс. м3</th>\n        <th>Население, тыс. м3</th>\n        <th>Прочее, тыс. м3</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n        <td>{totals.fact}</td>\n        <td>{totals.population}</td>\n        <td>{totals.other}</td>\n        </tr>\n        </tbody>\n        </table>\n        </div>\n        </>\n\n      )}\n      </div>\n      </div>\n  );\n}\n\n\n\nexport default WaterReportForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}