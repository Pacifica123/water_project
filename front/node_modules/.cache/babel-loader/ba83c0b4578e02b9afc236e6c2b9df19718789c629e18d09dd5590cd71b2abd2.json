{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://127.0.0.1:5000/api';\n\n/*export const fetchRecords = async () => {\n  const response = await axios.get(`${API_BASE_URL}/records`);\n  return response.data.records;\n};\n\nexport const createRecord = async (data) => {\n  const response = await axios.post(`${API_BASE_URL}/records`, data);\n  return response.data;\n};*/\n\nconst fetchWaterObjects = async () => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    console.log(\"токен - \", token);\n    const response = await axios.get(`${API_BASE_URL}/edit_reference?reference_select=water_object_ref`, {\n      headers: {\n        'tokenJWTAuthorization': token // Передаем токен в заголовке\n      },\n      withCredentials: true\n    });\n    return response.data.new_content || [];\n  } catch (error) {\n    console.error(\"Ошибка при загрузке водных объектов:\", error);\n    throw error; // Пробрасываем ошибку дальше\n  }\n};\n\n// export default fetchWaterObjects;\n\nconst sendQuarterData = async (waterObjectCode, quarter, data) => {\n  const token = localStorage.getItem('jwtToken');\n  try {\n    let send_form = 'send_quarter';\n    console.log(waterObjectCode);\n    const response = await axios.post(`${API_BASE_URL}/send_form`, {\n      waterObjectCode,\n      quarter,\n      data,\n      send_form\n    }, {\n      headers: {\n        'tokenJWTAuthorization': token // Передаем токен в заголовке\n      },\n      withCredentials: true\n    });\n    return response.data; // Возвращаем данные ответа\n  } catch (error) {\n    throw new Error(\"Ошибка при отправке данных: \" + error.message);\n  }\n};\nexport { sendQuarterData, fetchWaterObjects };","map":{"version":3,"names":["axios","API_BASE_URL","fetchWaterObjects","token","localStorage","getItem","console","log","response","get","headers","withCredentials","data","new_content","error","sendQuarterData","waterObjectCode","quarter","send_form","post","Error","message"],"sources":["/home/noir/projects/diplom/front/src/api/records.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://127.0.0.1:5000/api';\n\n/*export const fetchRecords = async () => {\n  const response = await axios.get(`${API_BASE_URL}/records`);\n  return response.data.records;\n};\n\nexport const createRecord = async (data) => {\n  const response = await axios.post(`${API_BASE_URL}/records`, data);\n  return response.data;\n};*/\n\n\nconst fetchWaterObjects = async () => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    console.log(\"токен - \", token);\n    const response = await axios.get(`${API_BASE_URL}/edit_reference?reference_select=water_object_ref`, {\n      headers: {\n        'tokenJWTAuthorization': token // Передаем токен в заголовке\n      },\n      withCredentials: true\n\n    });\n    return response.data.new_content || [];\n  } catch (error) {\n    console.error(\"Ошибка при загрузке водных объектов:\", error);\n    throw error; // Пробрасываем ошибку дальше\n  }\n};\n\n// export default fetchWaterObjects;\n\nconst sendQuarterData = async (waterObjectCode, quarter, data) => {\n  const token = localStorage.getItem('jwtToken');\n\n\n  try {\n    let send_form = 'send_quarter';\n    console.log(waterObjectCode);\n    const response = await axios.post(`${API_BASE_URL}/send_form`, {\n      waterObjectCode,\n      quarter,\n      data,\n      send_form\n    }, {\n      headers: {\n        'tokenJWTAuthorization': token // Передаем токен в заголовке\n      },\n      withCredentials: true\n    });\n\n    return response.data; // Возвращаем данные ответа\n  } catch (error) {\n    throw new Error(\"Ошибка при отправке данных: \" + error.message);\n  }\n};\n\nexport {sendQuarterData, fetchWaterObjects};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAG,2BAA2B;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;EACpC,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAC9CC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEJ,KAAK,CAAC;IAC9B,MAAMK,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGR,YAAY,mDAAmD,EAAE;MACnGS,OAAO,EAAE;QACP,uBAAuB,EAAEP,KAAK,CAAC;MACjC,CAAC;MACDQ,eAAe,EAAE;IAEnB,CAAC,CAAC;IACF,OAAOH,QAAQ,CAACI,IAAI,CAACC,WAAW,IAAI,EAAE;EACxC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdR,OAAO,CAACQ,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;IAC5D,MAAMA,KAAK,CAAC,CAAC;EACf;AACF,CAAC;;AAED;;AAEA,MAAMC,eAAe,GAAG,MAAAA,CAAOC,eAAe,EAAEC,OAAO,EAAEL,IAAI,KAAK;EAChE,MAAMT,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EAG9C,IAAI;IACF,IAAIa,SAAS,GAAG,cAAc;IAC9BZ,OAAO,CAACC,GAAG,CAACS,eAAe,CAAC;IAC5B,MAAMR,QAAQ,GAAG,MAAMR,KAAK,CAACmB,IAAI,CAAC,GAAGlB,YAAY,YAAY,EAAE;MAC7De,eAAe;MACfC,OAAO;MACPL,IAAI;MACJM;IACF,CAAC,EAAE;MACDR,OAAO,EAAE;QACP,uBAAuB,EAAEP,KAAK,CAAC;MACjC,CAAC;MACDQ,eAAe,EAAE;IACnB,CAAC,CAAC;IAEF,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,MAAM,IAAIM,KAAK,CAAC,8BAA8B,GAAGN,KAAK,CAACO,OAAO,CAAC;EACjE;AACF,CAAC;AAED,SAAQN,eAAe,EAAEb,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}