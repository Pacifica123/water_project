{"ast":null,"code":"// api/fetch_files.js\nimport axios from \"axios\";\nconst API_URL = \"http://127.0.0.1:5000/api\";\nconst getFiles = async (entity_type, entity_id, file_type) => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const response = await axios.get(API_URL + \"/file_info\", {\n      // Измененный URL\n      headers: {\n        tokenJWTAuthorization: token\n      },\n      params: {\n        entity_type: entity_type,\n        entity_id: entity_id,\n        file_type: file_type\n      }\n    });\n    return response.data; // Возвращаем данные о файле (включая URL)\n  } catch (error) {\n    var _error$response;\n    console.error(\"Ошибка при получении информации о файле:\", error);\n    return {\n      status: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) || 500,\n      message: error.message\n    };\n  }\n};\nexport { getFiles };","map":{"version":3,"names":["axios","API_URL","getFiles","entity_type","entity_id","file_type","token","localStorage","getItem","response","get","headers","tokenJWTAuthorization","params","data","error","_error$response","console","status","message"],"sources":["/home/noir/projects/diplom/front/src/api/fetch_files.js"],"sourcesContent":["// api/fetch_files.js\nimport axios from \"axios\";\nconst API_URL = \"http://127.0.0.1:5000/api\";\n\nconst getFiles = async (entity_type, entity_id, file_type) => {\n    try {\n        const token = localStorage.getItem('jwtToken');\n        const response = await axios.get(API_URL+\"/file_info\", { // Измененный URL\n            headers: {\n                tokenJWTAuthorization: token,\n            },\n            params: {\n                entity_type: entity_type,\n                entity_id: entity_id,\n                file_type: file_type,\n            },\n        });\n        return response.data; // Возвращаем данные о файле (включая URL)\n    } catch (error) {\n        console.error(\"Ошибка при получении информации о файле:\", error);\n        return { status: error.response?.status || 500, message: error.message };\n    }\n};\n\nexport { getFiles };\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,OAAO,GAAG,2BAA2B;AAE3C,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,WAAW,EAAEC,SAAS,EAAEC,SAAS,KAAK;EAC1D,IAAI;IACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAC9C,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAACT,OAAO,GAAC,YAAY,EAAE;MAAE;MACrDU,OAAO,EAAE;QACLC,qBAAqB,EAAEN;MAC3B,CAAC;MACDO,MAAM,EAAE;QACJV,WAAW,EAAEA,WAAW;QACxBC,SAAS,EAAEA,SAAS;QACpBC,SAAS,EAAEA;MACf;IACJ,CAAC,CAAC;IACF,OAAOI,QAAQ,CAACK,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA;IACZC,OAAO,CAACF,KAAK,CAAC,0CAA0C,EAAEA,KAAK,CAAC;IAChE,OAAO;MAAEG,MAAM,EAAE,EAAAF,eAAA,GAAAD,KAAK,CAACN,QAAQ,cAAAO,eAAA,uBAAdA,eAAA,CAAgBE,MAAM,KAAI,GAAG;MAAEC,OAAO,EAAEJ,KAAK,CAACI;IAAQ,CAAC;EAC5E;AACJ,CAAC;AAED,SAASjB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}